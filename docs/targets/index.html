

<html>
<head>
  <link href="//fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" rel='stylesheet'>
  <script src="http://aliafshar.github.io/bu/js/material.min.js"></script>
  <link rel="stylesheet" href="http://aliafshar.github.io/bu/css/material.min.css">
  <style>
    pre {
      background-color: #eee;
      color: #666;
        padding: 12px;
    }
    h1, h2, h3 {
      margin: 24px 0px 12px 0px;
    }
    .wsk-card {
      height: 274px;
    }
    .wsk-card--heading {
      height: 48px;
      background-color: #E0E0E0;
    }

    .wsk-card--heading-text {
      height: 48px;
        color: #222;
    }

    .wsk-card--caption {
      background-color: #424242;
    }

    .wsk-card--lower {
      color: #222;
    }
    .content {
      padding: 64px;
      max-width: 1024px;
        margin: auto;
    }
  </style>
</head>
<body>
<div class="wsk-layout wsk-js-layout">
  <div class="wsk-layout__header" style="background-color: #fff; color: #666">

    <a class="wsk-layout-icon" href="http://aliafshar.github.io/bu">
    <img class="wsk-layout-icon" src="http://aliafshar.github.io/bu/images/app-icon.png"/>
    </a>
    <span class="wsk-layout-title">docs / <strong>Targets</strong></span>
    <div class="wsk-layout-spacer"></div>
    <nav class="wsk-layout-navigation">
      
        <a class="wsk-item wsk-js-ripple-effect" href="">docs</a>
      
        <a class="wsk-item wsk-js-ripple-effect" href="">home</a>
      
        <a class="wsk-item wsk-js-ripple-effect" href="https://github.com/aliafshar/bu">code</a>
      
    </nav>
  </div>
  <div class="wsk-layout__content">


<div class="content">
    

<h1 id="targets:4cf45c6a681978cec1fda939e037b3ba">Targets</h1>

<p>Targets are the fundamental building block of bu. The are a group of dependent
tasks with multiple options. The syntax is fundamentally similar to how make
does things, and many make scripts will run in bu.</p>

<h2 id="your-first-target:4cf45c6a681978cec1fda939e037b3ba">Your first target</h2>

<p>Let&rsquo;s look at the simplest
target.</p>

<pre><code class="language-bu">demo:
  echo hello bu world ùÑΩ
</code></pre>

<pre><code class="language-bu-output">21:44 I ‚óè [&lt;command line&gt;:demo] &quot;echo hello bu world ùÑΩ&quot;
hello bu world ùÑΩ
21:44 I ‚óè 0 [&lt;command line&gt;:demo]
</code></pre>

<p>As you can see bu executes the shell script and displays the output. A target definition looks like this.</p>

<pre><code class="language-bu-spec">&lt;target name&gt;: [target dependencies...] [?file dependencies] [!type] [&gt;outfile] [&lt;infile] [|pipe] [^watch]
    &lt;script body&gt;
</code></pre>

<p>Note that the body must be indented, but unlike Make, tabs or spaces are fine.</p>

<h1 id="choosing-a-shell:4cf45c6a681978cec1fda939e037b3ba">Choosing a shell</h1>

<p>Currently only shell and python are supported. Shell (bash) is the default, so no type
is required to be passed explicitly. For a Python target, add the type as <code>!py</code>,
look:</p>

<pre><code class="language-bu">demo: !py
  print &quot;hello bu world ùÑΩ&quot;
</code></pre>

<pre><code class="language-bu-output">21:44 I ‚óè [&lt;command line&gt;:demo] &quot;print \&quot;hello bu world ùÑΩ\&quot;&quot;
hello bu world ùÑΩ
21:44 I ‚óè 0 [&lt;command line&gt;:demo]
</code></pre>

<h1 id="indentation-and-whitespace:4cf45c6a681978cec1fda939e037b3ba">Indentation and whitespace</h1>

<p>Target bodies must be indented by any whitespace, tab or space. Indentation must
be consistent for Python scripts since Python is sensitive to this.</p>

<pre><code class="language-bu">demo: !py
  for i in range(5):
  print i
</code></pre>

<pre><code class="language-bu-output">21:44 I ‚óè [&lt;command line&gt;:demo] &quot;for i in range(5):\nprint i&quot;
  File &quot;&lt;string&gt;&quot;, line 2
    print i
        ^
IndentationError: expected an indented block
21:44 E ‚óè exit status 1 [&lt;command line&gt;:demo]
</code></pre>
 
</div>

<footer class="wsk-mini-footer">
    <div class="wsk-mini-footer--left-section">
      <div class="wsk-logo">
        bu <strong>a task automation and build system</strong>
      </div>
      <ul class="wsk-mini-footer--link-list">
        <li><a href="#">Help</a></li>
        <li><a href="#">Privacy &amp; Terms</a></li>
      </ul>
    </div>
      <div class="wsk-mini-footer--right-section">
        <button class="wsk-mini-footer--social-btn"><img src="http://aliafshar.github.io/bu/images/gh.png" /></button>
        <button class="wsk-mini-footer--social-btn"></button>
        <button class="wsk-mini-footer--social-btn"></button>
        <button class="wsk-mini-footer--social-btn"></button>
      </div>
  </footer>
</div>
</body>
</html>

